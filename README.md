# AltimeterAvia

Мобильное приложение для iOS: барометрический высотомер с индикатором вертикальной скорости (VSI). Данные берутся **только с барометра iPhone** (не GPS).

## Возможности

- **ALT** — текущая высота над уровнем моря (м), по барометрической формуле от давления и QNH
- **VSI** — скорость набора/снижения высоты (м/с)
- **Нулевая высота** — кнопка фиксирует текущую точку как ноль; далее отсчёт идёт относительно неё
- **QNH** — настраиваемое давление на уровне моря (по умолчанию 1013.25 hPa) для пересчёта давления в высоту
- **GPS (опционально)** — второстепенные данные: количество спутников (на iOS в API недоступно, показывается «—»), скорость (м/с), высота по GPS (м). Блок можно включить/выключить и свернуть

## Требования

- iOS 15.0+
- Устройство с барометром (iPhone 6 и новее)

## Сборка и запуск

1. Откройте `AltimeterAvia.xcodeproj` в Xcode.
2. Выберите целевое устройство или симулятор (барометр есть только на реальном устройстве).
3. Запустите проект (⌘R).

При первом запуске система запросит доступ к данным о движении (для барометра).

## Структура проекта

- `AltimeterAviaApp.swift` — точка входа приложения
- `ContentView.swift` — главный экран с приборами и кнопками «Нулевая высота» / «QNH»
- `BarometerManager.swift` — работа с `CMAltimeter`, расчёт высоты по давлению и VSI
- `Views/AltimeterGaugeView.swift` — круговой индикатор высоты и QNH
- `Views/VSIGaugeView.swift` — круговой индикатор вертикальной скорости
- `Info.plist` — описание доступа к данным движения (барометр)

## Технические детали

- Высота вычисляется по барометрической формуле от текущего давления и QNH.
- «Нулевая высота» сохраняется в UserDefaults и вычитается из отображаемой высоты.
- VSI считается по изменению высоты за последние ~2 с и слегка сглаживается.
